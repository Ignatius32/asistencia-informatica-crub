{% extends 'base.html' %}

{% block title %}Editar Técnico{% endblock %}

{% block content %}
<div class="container">
    <h1>Editar Técnico</h1>
    
    <form action="{{ url_for('admin.edit_technician', technician_id=technician.id) }}" method="POST">
        <div class="form-group">
            <label for="dni">DNI:</label>
            <input type="text" id="dni" name="dni" value="{{ technician.dni }}" required>
        </div>
        <div class="form-group">
            <label for="name">Nombre:</label>
            <input type="text" id="name" name="name" value="{{ technician.name }}" required>
        </div>
        <div class="form-group">
            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" value="{{ technician.email }}" required>
        </div>
        <div class="form-group">
            <label for="profile">Perfil Técnico:</label>
            <select id="profile" name="profile" required>
                <option value="redes-e-infraestructura" {% if technician.technical_profile == 'redes-e-infraestructura' %}selected{% endif %}>Redes e Infraestructura</option>                <option value="soporte-tecnico" {% if technician.technical_profile == 'soporte-tecnico' %}selected{% endif %}>Soporte Técnico</option>
                <option value="mantenimiento" {% if technician.technical_profile == 'mantenimiento' %}selected{% endif %}>Mantenimiento</option>
            </select>
        </div>
        <div class="form-group">
            <label for="area_id">Área:</label>
            <select id="area_id" name="area_id">
                <option value="">-- Sin área --</option>
                {% for area in areas %}
                    <option value="{{ area.id }}" {% if technician.area_id == area.id %}selected{% endif %}>{{ area.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="is_jefe_area">Es Jefe de Área:</label>
            <input type="checkbox" id="is_jefe_area" name="is_jefe_area" value="1" {% if technician.is_jefe_area %}checked{% endif %}>
        </div>
        <button type="submit" class="btn">Actualizar Técnico</button>
    </form>
    
    <a href="{{ url_for('admin.manage_technicians') }}" class="btn">Volver a Lista de Técnicos</a>
</div>
{% endblock %}